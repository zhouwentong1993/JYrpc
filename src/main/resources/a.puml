@startuml
'https://plantuml.com/sequence-diagram

autonumber

用户A  -> IM服务: 发送消息
IM服务 -> 存储服务: 消息存储
存储服务 --> IM服务: 存储成功
IM服务 --> 用户A: 发送成功
IM服务 -> 用户B: 发送消息
@enduml